<html lang="en">

<head>


</head>

<body>
    <p>How many buttons to create?</p>
    <input type="text" Id="userinput">
    <input type="button" Id="buttonId" value="Go!" onclick=the_number_of_button()>
    <br>

    <script>
        let arrayButtons = [];

        function Button(left, top, color, id) {
            this.left = left;
            this.top = top;
            this.color = color;
            this.id = id;
            this.btn = document.createElement("button"); // <button>

            this.btn.id = this.id;
            this.btn.style.width = "10em";
            this.btn.style.height = "5em";
            this.btn.style.background = this.color;

            this.moveButton = function () {

                this.left = Math.floor(Math.random() * (window.innerWidth - 160));
                this.top = Math.floor(Math.random() * (window.innerHeight - 80));

                this.btn.style.position = "absolute";
                this.btn.style.left = this.left + "px";
                this.btn.style.top = this.top + "px";
            }
            document.body.appendChild(this.btn);
        }


        function colorGen() {
            let arr = [];

            for (let i = 0; i < 3; i++) {
                let color = Math.floor(Math.random() * 256);
                arr.push(color);
            }
            let newRgb = 'rgb(' + arr[0] + "," + arr[1] + "," + arr[2] + ' )';
            return newRgb;
        }


        let clicked = 0;
        function the_number_of_button() {
            let number = document.getElementById("userinput").value;
    
            if (5 <= parseInt(number) && parseInt(number) <= 100) {
                for (let i = 0; i < parseInt(number); i++) {
                    let btns = new Button(100, 200, colorGen(), i);
                    console.log(btns);
                    btns.btn.onclick = function () {
                        if (btns.id == clicked) {
                            alert("Excellent memory!");
                            btns.btn.style.visibility = "hidden";
                            clicked++;
                        }
                        else {
                            alert("Wrong button!");
                        }
                    }
                    arrayButtons.push(btns);
                    setInterval(function () { btns.moveButton() }, parseInt(number) * 1000);
                }
            }
        }




    </script>
</body>